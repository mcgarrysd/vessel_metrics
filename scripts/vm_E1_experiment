#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Tue Nov 16 16:09:35 2021

vm_E1_experiment

@author: sean
"""

import cv2
import matplotlib.pyplot as plt
import numpy as np
import vessel_metrics as vm
import glob, os
from cv2_rolling_ball import subtract_background_rolling_ball
from skimage.filters import meijering, hessian, frangi, sato
from skimage.morphology import skeletonize

data_path = '/home/sean/Documents/vm_manuscript/E1_segmentation/'

label_list = []
im_list = []

for i in range(1,11):
    name = 'emb' + str(i) 
    label_list.append(cv2.imread(data_path+name+'/label.png',0))
    im_list.append(cv2.imread(data_path+name+'/img.png',0))
    
seg_list = []
conn_list = []
area_list = []
length_list = []
jacc_list = []
for im in im_list:
    seg = vm.brain_seg(im)
    seg_list.append(seg.astype(np.uint8))
    
    conn, area, length = vm.cal(label.astype(np.uint8), seg.astype(np.uint8))
    conn_list.append(conn)
    area_list.append(area)
    length_list.append(length)
    jacc_list.append(vm.jaccard(label, seg))
    
    
    
    